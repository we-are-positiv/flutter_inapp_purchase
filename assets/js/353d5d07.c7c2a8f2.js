"use strict";(self.webpackChunkflutter_inapp_purchase_docs=self.webpackChunkflutter_inapp_purchase_docs||[]).push([[2126],{571:(e,n,s)=>{s.d(n,{A:()=>a});var i=s(6540),t=s(4848);function r({className:e="adfit",style:n,unit:s,height:r,width:a}){return(0,i.useEffect)(()=>{const n=setTimeout(()=>{const n=document.querySelector(`.${e}`);if(!n)return void console.warn(`AdFit: Element with class "${e}" not found`);const i=n.querySelectorAll(".kakao_ad_area"),t=n.querySelectorAll('script[src*="kas/static/ba.min.js"]');i.forEach(e=>e.remove()),t.forEach(e=>e.remove());const c=document.createElement("ins"),o=document.createElement("script");c.className="kakao_ad_area",c.style.cssText="display:none; width:100%;",o.async=!0,o.type="text/javascript",o.src="//t1.daumcdn.net/kas/static/ba.min.js",c.setAttribute("data-ad-width",a.toString()),c.setAttribute("data-ad-height",r.toString()),c.setAttribute("data-ad-unit",s),n.appendChild(c),n.appendChild(o)},100);return()=>clearTimeout(n)},[e,s,r,a]),(0,t.jsx)("div",{style:n,children:(0,t.jsx)("div",{className:e})})}function a(){return(0,t.jsx)(r,{unit:"DAN-YTmjDwlbcP42HBg6",height:100,width:320,className:"adfit-top",style:{flex:1,marginTop:24,marginBottom:24}})}},2407:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"api/index","title":"API Reference","description":"Complete reference for flutterinapppurchase v6.0.0 - A unified API for implementing in-app purchases across iOS and Android platforms.","source":"@site/versioned_docs/version-6.3/api/index.md","sourceDirName":"api","slug":"/api/","permalink":"/docs/6.3/api/","draft":false,"unlisted":false,"editUrl":"https://github.com/hyochan/flutter_inapp_purchase/tree/main/docs/versioned_docs/version-6.3/api/index.md","tags":[],"version":"6.3","sidebarPosition":1,"frontMatter":{"title":"API Reference","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Migration Guide","permalink":"/docs/6.3/migration/from-v5"},"next":{"title":"Types","permalink":"/docs/6.3/api/types"}}');var t=s(4848),r=s(8453),a=s(571);const c={title:"API Reference",sidebar_position:1},o="API Reference",l={},d=[{value:"Available APIs",id:"available-apis",level:2},{value:"\ud83c\udfea Core Methods",id:"-core-methods",level:3},{value:"\ud83d\udcf1 Platform-Specific Methods",id:"-platform-specific-methods",level:3},{value:"\ud83c\udfa7 Event Listeners (Open IAP Spec)",id:"-event-listeners-open-iap-spec",level:3},{value:"\ud83d\udd27 Types &amp; Enums",id:"-types--enums",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Instance Management",id:"instance-management",level:3},{value:"Basic Implementation",id:"basic-implementation",level:3},{value:"Dart Type Safety",id:"dart-type-safety",level:2},{value:"Platform Compatibility",id:"platform-compatibility",level:2},{value:"Need Help?",id:"need-help",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"api-reference",children:"API Reference"})}),"\n",(0,t.jsx)(a.A,{}),"\n",(0,t.jsx)(n.p,{children:"Complete reference for flutter_inapp_purchase v6.0.0 - A unified API for implementing in-app purchases across iOS and Android platforms."}),"\n",(0,t.jsx)(n.h2,{id:"available-apis",children:"Available APIs"}),"\n",(0,t.jsx)(n.h3,{id:"-core-methods",children:"\ud83c\udfea Core Methods"}),"\n",(0,t.jsx)(n.p,{children:"Essential methods for initializing connections, loading products, and processing purchases."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Connection Management"}),": ",(0,t.jsx)(n.code,{children:"initConnection()"}),", ",(0,t.jsx)(n.code,{children:"endConnection()"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Product Loading"}),": ",(0,t.jsx)(n.code,{children:"getProducts()"}),", ",(0,t.jsx)(n.code,{children:"getSubscriptions()"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Purchase Processing"}),": ",(0,t.jsx)(n.code,{children:"requestPurchase()"})," (use ",(0,t.jsx)(n.code,{children:"type: PurchaseType.inapp"})," or ",(0,t.jsx)(n.code,{children:"type: PurchaseType.subs"}),")"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transaction Management"}),": ",(0,t.jsx)(n.code,{children:"finishTransaction()"}),", ",(0,t.jsx)(n.code,{children:"consumePurchase()"})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-platform-specific-methods",children:"\ud83d\udcf1 Platform-Specific Methods"}),"\n",(0,t.jsx)(n.p,{children:"Access iOS and Android specific features and capabilities."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"iOS Features"}),": Offer code redemption, subscription management, StoreKit 2 support"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Android Features"}),": Billing client state, pending purchases, deep links"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-event-listeners-open-iap-spec",children:"\ud83c\udfa7 Event Listeners (Open IAP Spec)"}),"\n",(0,t.jsx)(n.p,{children:"Real-time streams for monitoring purchase events and connection states."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"purchaseUpdatedListener"}),": Stream for successful purchase updates"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"purchaseErrorListener"}),": Stream for purchase errors"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Connection Events"}),": Store connection status updates"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"-types--enums",children:"\ud83d\udd27 Types & Enums"}),"\n",(0,t.jsx)(n.p,{children:"Comprehensive type definitions for type-safe development."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Request Objects"}),": Platform-specific purchase and product requests"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Response Models"}),": Products, purchases, and transaction data"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Error Handling"}),": Detailed error codes and messages"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,t.jsx)(n.h3,{id:"instance-management",children:"Instance Management"}),"\n",(0,t.jsx)(n.p,{children:"flutter_inapp_purchase provides flexible instance management:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"// Option 1: Create your own instance (recommended for most cases)\nfinal iap = FlutterInappPurchase();\n\n// Option 2: Use singleton for global state management\nfinal iap = FlutterInappPurchase.instance;\n\n// Option 3: Use with IapProvider (recommended for Flutter apps)\nfinal iapProvider = IapProvider.of(context);\n"})}),"\n",(0,t.jsx)(n.h3,{id:"basic-implementation",children:"Basic Implementation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dart",children:"import 'package:flutter_inapp_purchase/flutter_inapp_purchase.dart';\n\nclass PurchaseManager {\n  final FlutterInappPurchase iap = FlutterInappPurchase();\n  StreamSubscription<Purchase>? _purchaseSubscription;\n  StreamSubscription<PurchaseError>? _errorSubscription;\n\n  Future<void> initializePurchases() async {\n    // Initialize connection\n    await iap.initConnection();\n    \n    // Set up listeners (Open IAP spec)\n    _purchaseSubscription = iap.purchaseUpdatedListener.listen(\n      (purchase) {\n        handlePurchaseSuccess(purchase);\n      },\n    );\n    \n    _errorSubscription = iap.purchaseErrorListener.listen(\n      (error) {\n        handlePurchaseError(error);\n      },\n    );\n  }\n  \n  Future<void> makePurchase(String productId) async {\n    await iap.requestPurchase(\n      request: RequestPurchase(\n        ios: RequestPurchaseIOS(sku: productId, quantity: 1),\n        android: RequestPurchaseAndroid(skus: [productId]),\n      ),\n      type: PurchaseType.inapp,\n    );\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"dart-type-safety",children:"Dart Type Safety"}),"\n",(0,t.jsx)(n.p,{children:"flutter_inapp_purchase provides full type safety with comprehensive type definitions for all methods, parameters, and return values."}),"\n",(0,t.jsx)(n.h2,{id:"platform-compatibility",children:"Platform Compatibility"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"iOS"}),": 12.0+ with StoreKit 2 (iOS 15.0+) and StoreKit 1 fallback"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Android"}),": API level 21+ with Google Play Billing Client v8"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"need-help",children:"Need Help?"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Check our ",(0,t.jsx)(n.a,{href:"/docs/6.3/guides/troubleshooting",children:"Troubleshooting Guide"})]}),"\n",(0,t.jsxs)(n.li,{children:["Review ",(0,t.jsx)(n.a,{href:"/docs/6.3/migration/from-v5",children:"Migration Guide"})," for v5 to v6 updates"]}),"\n",(0,t.jsxs)(n.li,{children:["Browse ",(0,t.jsx)(n.a,{href:"https://github.com/hyochan/flutter_inapp_purchase/tree/main/example",children:"example implementations"})]}),"\n",(0,t.jsxs)(n.li,{children:["Join the ",(0,t.jsx)(n.a,{href:"https://flutter.dev/community",children:"Flutter Community"})," for support"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);